{"ast":null,"code":"import React,{useRef,useState}from'react';import'../styles/tour-details.css';import{Container,Row,Col,Form,ListGroup}from'reactstrap';import{useParams}from'react-router-dom';import tourData from'../assets/data/tours';import calculateAvgRating from'../utils/avgRating';import avatar from'../assets/images/avatar.jpg';import Booking from'../components/Booking/Booking';import Newsletter from'../shared/Newsletter';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TourDetails=()=>{const{id}=useParams();const reviewMsgRef=useRef(null);const[tourRating,setTourRating]=useState('');const tour=tourData.find(tour=>tour.id===id);const{photo,title,desc,price,reviews,city,distance,address,maxGroupSize}=tour;const{totalRating,avgRating}=calculateAvgRating(reviews);const options={year:'numeric',month:'long',day:'numeric'};// submit request to the server\nconst submitHandler=e=>{e.preventDeafult();const reviewText=reviewMsgRef.current.value;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour__content\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\",style:{color:\"var(--secondary-color\"}}),\" \",avgRating===0?null:avgRating,totalRating===0?\"Not rated\":/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),\" \",address,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__extra-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-2-line\"}),\" \",city]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-money-dollar-circle-line\"}),\" Rs\",price,\"/per person\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-time-line\"}),\" \",distance,\" KM\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-group-line\"}),\" \",maxGroupSize,\" People\"]})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:desc})]}),\"// tour reviews section\",/*#__PURE__*/_jsxs(\"div\",{className:\"tour__reviews mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews (\",reviews===null||reviews===void 0?void 0:reviews.length,\" reviews)\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rating__group d-flex align-items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(1),children:[\"1\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(2),children:[\"2\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(3),children:[\"3\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(4),children:[\"4\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(5),children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review__input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:reviewMsgRef,placeholder:\"Share Your Review\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary__btn text-white\",type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"user__details\",children:reviews===null||reviews===void 0?void 0:reviews.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"review__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Shreyas Karkera\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(\"08-24-2024\").toLocaleDateString(\"en-US\",options)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[\"5 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Amazing and a must visit tour\"})]})]}))})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Booking,{tour:tour,avgRating:avgRating})})]})})}),/*#__PURE__*/_jsx(Newsletter,{})]});};export default TourDetails;","map":{"version":3,"names":["React","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","tourData","calculateAvgRating","avatar","Booking","Newsletter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TourDetails","id","reviewMsgRef","tourRating","setTourRating","tour","find","photo","title","desc","price","reviews","city","distance","address","maxGroupSize","totalRating","avgRating","options","year","month","day","submitHandler","e","preventDeafult","reviewText","current","value","children","lg","className","src","alt","class","style","color","length","onSubmit","onClick","type","ref","placeholder","required","map","review","Date","toLocaleDateString"],"sources":["E:/Downloads/MernStack-Tour-Management-main/tour-management/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React, {useRef, useState} from 'react'\r\nimport '../styles/tour-details.css'\r\nimport { Container, Row, Col, Form, ListGroup } from 'reactstrap'\r\nimport {useParams} from 'react-router-dom'\r\nimport tourData from '../assets/data/tours'\r\nimport calculateAvgRating from '../utils/avgRating'\r\nimport avatar from '../assets/images/avatar.jpg';\r\nimport Booking from '../components/Booking/Booking'\r\nimport Newsletter from '../shared/Newsletter'\r\n\r\nconst TourDetails = () => {\r\n\r\n  const {id} = useParams()\r\n  const reviewMsgRef = useRef(null)\r\n  const [tourRating, setTourRating] = useState('')\r\n\r\n  const tour = tourData.find(tour => tour.id === id)\r\n\r\n  const {photo, title, desc, price, reviews, city, distance, address, maxGroupSize } = tour\r\n\r\n  const {totalRating, avgRating} = calculateAvgRating(reviews)\r\n\r\n  const options = { year: 'numeric', month: 'long', day: 'numeric' }\r\n\r\n  // submit request to the server\r\n  const submitHandler = (e) => {\r\n    e.preventDeafult()\r\n    const reviewText = reviewMsgRef.current.value\r\n\r\n    \r\n  }    \r\n\r\n  return (\r\n    <>\r\n    <section>\r\n      <Container>\r\n        <Row>\r\n          <Col lg=\"8\">\r\n            <div className=\"tour__content\">\r\n              <img src={photo} alt=\"\" />\r\n\r\n              <div className=\"tour__info\">\r\n                <h2>{title}</h2>\r\n\r\n                <div className=\"d-flex align-items-center gap-5\">\r\n                  <span className='tour__rating d-flex align-items-center gap-1'>\r\n                    <i class=\"ri-star-s-fill\" style={{color: \"var(--secondary-color\"}}></i> {avgRating === 0 ? null : avgRating}\r\n                    {totalRating === 0 ? (\r\n                    \"Not rated\"\r\n                    ) : (\r\n                    <span>({reviews?.length})</span>\r\n                    )}\r\n                  </span>\r\n                  \r\n                  <span> <i class='ri-map-pin-user-fill'></i> {address} </span>\r\n\r\n                </div>\r\n\r\n                <div className=\"tour__extra-details\">\r\n                  <span><i class=\"ri-map-pin-2-line\"></i> {city}</span>\r\n                  <span><i class=\"ri-money-dollar-circle-line\"></i> Rs{price}/per person</span>\r\n                  <span><i class=\"ri-map-pin-time-line\"></i> {distance} KM</span>\r\n                  <span><i class=\"ri-group-line\"></i> {maxGroupSize} People</span>\r\n                </div>\r\n\r\n                <h5>Description</h5>\r\n                <p>{desc}</p>\r\n              </div>\r\n\r\n\r\n              // tour reviews section \r\n              <div className=\"tour__reviews mt-4\">\r\n                <h4>Reviews ({reviews?.length} reviews)</h4>\r\n\r\n                <Form onSubmit={submitHandler}>\r\n                  <div className=\"rating__group d-flex align-items-center gap-3 mb-4\">\r\n                    <span onClick={() => setTourRating(1)}>1<i class=\"ri-star-s-fill\"></i></span>\r\n                    <span onClick={() => setTourRating(2)}>2<i class=\"ri-star-s-fill\"></i></span>\r\n                    <span onClick={() => setTourRating(3)}>3<i class=\"ri-star-s-fill\"></i></span>\r\n                    <span onClick={() => setTourRating(4)}>4<i class=\"ri-star-s-fill\"></i></span>\r\n                    <span onClick={() => setTourRating(5)}>5<i class=\"ri-star-s-fill\"></i></span>\r\n                  </div>\r\n\r\n                  <div className=\"review__input\">\r\n                  <input type=\"text\" ref={reviewMsgRef} placeholder='Share Your Review' required />\r\n                    <button className='btn primary__btn text-white' type='submit'>\r\n                      Submit\r\n                    </button>\r\n                  </div>\r\n                </Form>\r\n\r\n                <ListGroup className=\"user__details\">\r\n                    {reviews?.map(review => (\r\n                      <div className=\"review__item\">\r\n                        <img src={avatar} alt=\"\" />\r\n\r\n                        <div className=\"w-100\">\r\n                          <div className='d-flex align-items-center justify-content-center'>\r\n                            <div>\r\n                              <h5>Shreyas Karkera</h5>\r\n                              <p>{new Date(\"08-24-2024\").toLocaleDateString(\"en-US\", options )}</p>\r\n                            </div>\r\n                            <span className='d-flex align-items-center'>\r\n                              5 <i class=\"ri-star-s-fill\"></i>\r\n                            </span>\r\n                          </div>\r\n\r\n                          <h6>Amazing and a must visit tour</h6>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                </ListGroup>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col lg=\"4\">\r\n              <Booking tour={tour}  avgRating={avgRating}/>\r\n\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </section>\r\n\r\n    <Newsletter />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TourDetails"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}